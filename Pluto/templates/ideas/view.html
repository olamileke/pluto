{% extends 'layouts/app.html' %}

{% block title %} {{ idea.name }} {% endblock %}

{% block css %} 
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/Ideas/view.css') }}">
 {% endblock %}

{% block body %}
	
	<div class="ml-sm-4 mr-sm-5 mt-3 pt-3 row title-header">
		<div class='col-lg-8 px-5 px-sm-0'>
			<p class='header h5'>{{ idea.name }}</p>
			<p class='premise text-muted mb-1'>{{ idea.premise }}</p>
			<div class='d-flex buttons mb-1'>
				<a href="{{ url_for('ideas.edit', id=idea.id) }}" class='mr-2 text-muted'>Edit Idea</a>
				<a href="{{ url_for('ideas.delete', id=idea.id) }}" class='text-muted mr-2 delete'>Delete</a>
				<a href="{{ url_for('projects.fromIdea', id=idea.id) }}" class='text-muted'>Work on</a>
			</div>
			<p class='text-muted created-at'>Created {{ idea.created_at.strftime('%B %d,%Y') }}</p>
		</div>
	</div>

	<div class='ml-sm-4 mr-sm-5 mt-3 row d-flex flex-column px-5 px-sm-0'>
		
		<div class='mb-3'>{{ idea.edits | length}} Edits</div>
		<div class='col-lg-8 p-0'>
			{% for edit in idea.edits %}
				<div class='edit d-flex flex-column mb-4 pl-3 '>
					<p class='mb-2 edited-at' style='font-size:0.95em'>Edit on {{ edit.created_at.strftime('%B %d,%Y %H:%m') }}</p>
					{% if edit.action == 'Edit name' %}

						<div class='text-muted' style='font-size:0.95em'>
							changed name to <em>"{{ edit.result }}"</em>
						</div>
					{% else %}

						<div class='text-muted' style='font-size:0.95em'>
							changed premise to <em>"{{ edit.result }}"</em>
						</div>

					{% endif %}
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}


{% block js %}
	
	<script type="text/javascript" src="{{ url_for('static', filename='js/Ideas/view.js') }}"></script>
{% endblock %}